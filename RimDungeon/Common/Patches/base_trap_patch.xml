<Patch>
	<Operation Class="PatchOperationReplace">
		<success>Normal</success>
		<xpath>Defs/ThingDef[defName="TrapSpike"]/building/trapDestroyOnSpring</xpath>
		<value>
			<trapDestroyOnSpring>
				false
			</trapDestroyOnSpring>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<success>Normal</success>
		<xpath>Defs/ThingDef[defName="TrapSpike"]/thingClass</xpath>
		<value>
			<thingClass>Rimdungeon.Traps.Dungeon_Trap</thingClass>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<success>Normal</success>
		<xpath>Defs/ThingDef[defName="TrapSpike"]/statBases/TrapMeleeDamage</xpath>
		<value>
			<TrapMeleeDamage>25</TrapMeleeDamage>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<success>Normal</success>
		<xpath>Defs/ThingDef[defName="TrapSpike"]/building</xpath>
		<value>
			<trapUnarmedGraphicData>
				<texPath>Things/Building/Traps/TrapSpike_Unarmed</texPath>
				<graphicClass>Graphic_Single</graphicClass>
			</trapUnarmedGraphicData>
		</value>
	</Operation>
	<Operation Class="PatchOperationAddModExtension">
		<success>Normal</success>
		<xpath>Defs/ThingDef[defName="TrapSpike"]</xpath>
		<value>
			<li Class="Rimdungeon.Traps.Dungeon_Trap_Def">
				<numberOfAttacks>1</numberOfAttacks>
				<rearmable>true</rearmable>
				<pathWalkCost>10</pathWalkCost>
			</li>
		</value>
	</Operation>
</Patch>